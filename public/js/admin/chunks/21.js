(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{f9f4:function(r,e,t){"use strict";function o(r,e,t){var a=e||new FormData;for(var s in r)if(r.hasOwnProperty(s)){var n=t?t+"["+s+"]":s;if(r[s]!==Object(r[s])||r[s]instanceof File)if(r[s]instanceof Array)for(var i=0;i<r[s].length;i++)o(r[s][i],a,"".concat(n,"[").concat(i,"]"));else{var c=null===r[s]?"":r[s];a.append(n,c)}else o(r[s],a,n)}return a}t.d(e,"a",(function(){return o}))},"hbd/":function(r,e,t){"use strict";t.d(e,"b",(function(){return s})),t.d(e,"c",(function(){return n})),t.d(e,"a",(function(){return i}));var o=t("Poqw"),a=t.n(o);t("f9f4");function s(r,e){return a()({method:"GET",url:r,params:e})}function n(r,e){return i("POST",r,e)}function i(r,e,t){return a()({method:r,url:e,data:t})}},sejE:function(r,e,t){"use strict";var o={props:{error:{type:Array,default:function(){return[]}}}},a=t("KHd+"),s=Object(a.a)(o,(function(){var r=this.$createElement,e=this._self._c||r;return this.error?e("small",{staticClass:"text-danger"},[this._v(this._s(this.error[0]))]):this._e()}),[],!1,null,null,null);e.a=s.exports},uvMX:function(r,e,t){"use strict";t.d(e,"a",(function(){return n}));var o=t("hbd/"),a=t("f9f4"),s=t("1w2d"),n={data:function(){return{form:{},error:{},isProcessing:!1,show:!1}},computed:{mode:function(){return this.$route.meta.mode},isEdit:function(){return"edit"===this.mode}},methods:{errors:function(r){return this.error[r]?"error-bg":""},success:function(){this.$toast({component:s.a,props:{title:"Success",icon:"BellIcon",text:this.message,variant:"success"}})},deleted:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.message;this.$toast({component:s.a,props:{title:"Deleted",icon:"BellIcon",text:r,variant:"danger"}})},clearErrors:function(){this.error={}},handleError:function(r){422===r.response.status&&(this.error=r.response.data.errors)},destroy:function(r,e,t){this.clearErrors(),Object(o.a)("DELETE",r,t).then((function(r){var t=r.data;t.saved&&e(t)})).catch(this.handleError)},submit:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this.clearErrors(),"file"==r&&(this.form=Object(a.a)(this.form)),Object(o.a)(this.method,this.store,this.form).then((function(r){var t=r.data;t.saved&&e(t)})).catch(this.handleError)},submitMultipartForm:function(r,e){var t=this;this.clearErrors(),Object(o.a)(this.method,this.store,Object(a.a)(this.form)).then((function(r){var t=r.data;return!!t.saved&&(e(t),!0)})).catch((function(r){return t.handleError(r),!1}))}}}},wRQM:function(r,e,t){"use strict";t.r(e);var o=t("djKw"),a=t.n(o),s=t("IAPz"),n=t("+4WA"),i=t("3uf8"),c=t("cbbs"),l=t("e9yv"),m=t("WzGQ"),u=t("dQIy"),d=t("c34V"),f=t("VOL1"),p=t("uvMX"),h=t("hbd/"),b=t("sejE"),v=t("4cv3");function w(r){var e={add:"/api/companies/create",edit:"/api/companies/".concat(r.params.id,"/edit")};return e[r.meta.mode]||e.add}var _={mixins:[p.a],components:{Error:b.a,BCard:s.a,BCardText:n.a,BLink:i.a,BRow:c.a,BCol:l.a,BFormInput:m.a,BFormGroup:u.a,BFormCheckboxGroup:d.a,BButton:f.a},directives:{Ripple:v.a},data:function(){return{show:!1,resource:"/companies",store:"/api/companies",method:"POST",title:"Add",message:"New Company Added",permissions:[]}},computed:{full_domain:function(){return(this.form.domain?this.form.domain:"")+this.form.base_domain}},beforeRouteEnter:function(r,e,t){Object(h.b)(w(r)).then((function(r){t((function(e){return e.setData(r)}))}))},beforeRouteUpdate:function(r,e,t){var o=this;Object(h.b)(w(r)).then((function(r){o.setData(r),t()}))},methods:{setData:function(r){a.a.set(this.$data,"form",r.data.form),this.show=!0},formSubmitted:function(){var r=this;this.submit(this.form,(function(e){r.success(),r.successfull(e)}))},successfull:function(r){this.$router.push("".concat(this.resource))},isAllowedDomain:function(r){var e=String.fromCharCode(r.keyCode);if(/^[A-Za-z0-9_]+$/.test(e))return!0;r.preventDefault()},isAllowedName:function(r){var e=String.fromCharCode(r.keyCode);if(/^[A-Za-z0-9_ ]+$/.test(e))return!0;r.preventDefault()},lower:function(r){this.form.domain=r.toLowerCase()},onCompanyName:function(r){this.form.domain=r.replaceAll(" ","").toLowerCase()}}},g=t("KHd+"),C=Object(g.a)(_,(function(){var r=this,e=r.$createElement,t=r._self._c||e;return r.show?t("div",[t("b-card",{attrs:{title:"Add New Company"}},[t("b-row",[t("b-col",{attrs:{md:"12"}},[t("b-form-group",{attrs:{label:"Title","label-for":"mc-title"}},[t("b-form-input",{attrs:{id:"mc-title",placeholder:"Title"},on:{keypress:r.isAllowedName,input:r.onCompanyName},model:{value:r.form.title,callback:function(e){r.$set(r.form,"title",e)},expression:"form.title"}}),r._v(" "),t("error",{attrs:{error:r.error.title}})],1)],1),r._v(" "),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{label:"Domain","label-for":"mc-domain"}},[t("b-form-input",{attrs:{id:"mc-domain",placeholder:"Domain"},on:{keypress:r.isAllowedDomain,input:r.lower},model:{value:r.form.domain,callback:function(e){r.$set(r.form,"domain",e)},expression:"form.domain"}}),r._v(" "),t("error",{attrs:{error:r.error.domain}})],1)],1),r._v(" "),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{label:"Whole Domain","label-for":"mc-whole-domain"}},[t("b-form-input",{attrs:{id:"mc-whole-domain",disabled:!0},model:{value:r.full_domain,callback:function(e){r.full_domain=e},expression:"full_domain"}})],1)],1)],1),r._v(" "),t("hr",{staticClass:"my-2"}),r._v(" "),t("b-row",[t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{label:"User Name","label-for":"mc-user-name"}},[t("b-form-input",{attrs:{id:"mc-user-name",placeholder:"Name"},model:{value:r.form.user.name,callback:function(e){r.$set(r.form.user,"name",e)},expression:"form.user.name"}}),r._v(" "),t("error",{attrs:{error:r.error["user.name"]}})],1)],1),r._v(" "),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{label:"Email","label-for":"mc-user-email"}},[t("b-form-input",{attrs:{id:"mc-user-email",placeholder:"Email"},model:{value:r.form.user.email,callback:function(e){r.$set(r.form.user,"email",e)},expression:"form.user.email"}}),r._v(" "),t("error",{attrs:{error:r.error["user.email"]}})],1)],1),r._v(" "),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{label:"Password","label-for":"mc-user-password"}},[t("b-form-input",{attrs:{id:"mc-user-password",placeholder:"Password"},model:{value:r.form.user.password,callback:function(e){r.$set(r.form.user,"password",e)},expression:"form.user.password"}}),r._v(" "),t("error",{attrs:{error:r.error["user.password"]}})],1)],1),r._v(" "),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{label:"Confirm Password","label-for":"mc-user-confirm-password"}},[t("b-form-input",{attrs:{id:"mc-confirm-password",placeholder:"Confirm Password"},model:{value:r.form.user.password_confirmation,callback:function(e){r.$set(r.form.user,"password_confirmation",e)},expression:"form.user.password_confirmation"}}),r._v(" "),t("error",{attrs:{error:r.error["user.password_confirmation"]}})],1)],1)],1),r._v(" "),t("b-row",[t("b-col",[t("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-1",attrs:{type:"submit",variant:"primary"},on:{click:r.formSubmitted}},[r._v("\n                    Submit\n                ")]),r._v(" "),t("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(186, 191, 199, 0.15)",expression:"'rgba(186, 191, 199, 0.15)'",modifiers:{400:!0}}],attrs:{type:"reset",variant:"outline-secondary",to:{path:"/companies"}}},[r._v("\n                    Cancel\n                ")])],1)],1)],1)],1):r._e()}),[],!1,null,"e1060fa8",null);e.default=C.exports}}]);