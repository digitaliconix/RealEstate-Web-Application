(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{JKF8:function(e,t,n){"use strict";n.r(t);var i=n("djKw"),a=n.n(i),s=n("dQIy"),o=n("OLFr"),r=n("IAPz"),l=n("+4WA"),c=n("3uf8"),u=n("VOL1"),d=n("cbbs"),p=n("e9yv"),h=n("Nr6K"),m=n("+EKj"),f=n("g42O"),v=(n("1w2d"),n("hbd/")),g=n("4cv3"),b=n("wWPa"),w=n("uvMX"),y={components:{BFormGroup:s.a,BModal:o.a,BCard:r.a,BCardText:l.a,BLink:c.a,BButton:u.a,BRow:d.a,BCol:p.a,BTooltip:h.a,Panel:f.a,TagInput:b.a},directives:{"b-modal":m.a,Ripple:g.a},name:"Index",mixins:[w.a],data:function(){return{model:null,urlApi:"/api/users",resource:"/users",columns:[{label:"ID",field:"id"},{label:"Name",field:"name"},{label:"Roles",field:"name",displayText:"roles",multiple:!0},{label:"Created At",field:"created_at",format:"formatDate"},{label:"Action",field:"action",action:!0}],assignRoleModal:!1,user_data:{},message:"The user role updated successfully"}},methods:{handleOk:function(e){e.preventDefault(),this.updateRoles()},updateRoles:function(){var e=this;Object(v.c)("/api/assign_user_role",this.user_data).then((function(t){t.data.saved&&(e.resetModal(),a.a.set(e.$data,"assignRoleModal",!1),e.success(),e.$refs.panel.reload())}))},resetModal:function(){this.user_data={}},assignRole:function(e){this.form={};for(var t=[],n=0;n<e.roles.length;n++)t.push(e.roles[n]);this.user_data={id:e.id,roles:t},a.a.set(this.$data,"assignRoleModal",!0)},edit:function(e){this.$router.push("".concat(this.resource,"/").concat(e,"/edit"))},deleteUser:function(e){console.log(e)}}},_=n("KHd+"),x=Object(_.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-card",{attrs:{title:"Users"}},[n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-1 mb-1",attrs:{type:"submit",variant:"primary",align:"right",to:{name:"create-users"}}},[e._v("\n                    Create\n                ")])],1)],1),e._v(" "),n("panel",{ref:"panel",attrs:{"url-api":e.urlApi,columns:e.columns,resource:e.resource},scopedSlots:e._u([{key:"action",fn:function(t){return n("div",{staticClass:"text-nowrap"},[n("feather-icon",{staticClass:"cursor-pointer",attrs:{id:"user-row-"+t.item.id+"-edit-icon",icon:"EditIcon",size:"16"},on:{click:function(n){return e.edit(t.item.id)}}}),e._v(" "),n("b-tooltip",{staticClass:"cursor-pointer",attrs:{target:"user-row-"+t.item.id+"-edit-icon",title:"Edit User"}}),e._v(" "),n("feather-icon",{staticClass:"cursor-pointer",attrs:{id:"user-row-"+t.item.id+"-delete-icon",icon:"TrashIcon",size:"16"},on:{click:function(n){return e.deleteUser(t.item.id)}}}),e._v(" "),n("b-tooltip",{staticClass:"cursor-pointer",attrs:{target:"user-row-"+t.item.id+"-delete-icon",title:"Delete User"}}),e._v(" "),n("feather-icon",{staticClass:"cursor-pointer",attrs:{id:"user-row-"+t.item.id+"-role-icon",icon:"ShieldIcon",size:"16"},on:{click:function(n){return e.assignRole(t.item)}}}),e._v(" "),n("b-tooltip",{staticClass:"cursor-pointer",attrs:{target:"user-row-"+t.item.id+"-role-icon",title:"Assign Role"}})],1)}}])})],1),e._v(" "),n("b-modal",{attrs:{id:"modal-prevent-closing",title:"Assign Roles","ok-title":"Save","cancel-variant":"outline-secondary"},on:{hidden:e.resetModal,ok:e.handleOk},model:{value:e.assignRoleModal,callback:function(t){e.assignRoleModal=t},expression:"assignRoleModal"}},[n("b-form-group",[n("tag-input",{attrs:{positionRelative:!0,keyIndex:"id",removable:!0,multiple:!0,value:e.user_data.roles,resource:"/api/get_roles",column:"name",name:"name"},on:{input:function(t){e.user_data.roles=t}}})],1)],1)],1)}),[],!1,null,"310689eb",null);t.default=x.exports},g42O:function(e,t,n){"use strict";var i=n("djKw"),a=n.n(i),s=n("cbbs"),o=n("e9yv"),r=n("G/QR"),l=n("gnRo"),c=n("wMrI"),u=n("dQIy"),d=n("WzGQ"),p=n("eYZ3"),h=n("VOL1"),m=n("Nifr"),f=n("hbd/"),v=n("WHwe"),g=n("4cv3"),b=n("1w2d"),w={name:"Panel",components:{BRow:s.a,BCol:o.a,BAvatar:r.a,BBadge:l.a,BPagination:c.a,BFormGroup:u.a,BFormInput:d.a,BFormSelect:p.a,BButton:h.a,VueGoodTable:m.a,ToastificationContent:b.a},directives:{Ripple:g.a},props:{additionalParams:{type:Object,default:{q:""}},urlApi:{type:String,required:!0},columns:{type:Array,required:!0},initialGet:{type:Boolean,default:!0},resource:{type:String},sortEnabled:{type:Boolean}},computed:{direction:function(){return v.a.state.appConfig.isRTL?(this.dir=!0,this.dir):(this.dir=!1,this.dir)}},data:function(){return{pageLength:5,dir:!1,model:{},isLoading:!0}},created:function(){this.initialGet&&this.reload()},methods:{reload:function(){var e=this;Object(f.b)(this.urlApi,this.additionalParams).then((function(t){e.model=t.data.data,e.pageLength=t.data.data.per_page,e.isLoading=!1}))},onRowClick:function(e){this.$emit("rowClicked",e.row)},nextPage:function(){var e=this;Object(f.b)(this.model.next_page_url).then((function(t){a.a.set(e.$data,"model",t.data.data),e.pageLength=t.data.data.per_page}))},prevPage:function(){var e=this;Object(f.b)(this.model.prev_page_url).then((function(t){a.a.set(e.$data,"model",t.data.data),e.pageLength=t.data.data.per_page}))}}},y=n("KHd+"),_=Object(y.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("vue-good-table",{attrs:{isLoading:e.isLoading,columns:e.columns,rows:e.model.data,rtl:e.direction,"pagination-options":{enabled:!0,perPage:e.pageLength},"sort-options":{enabled:e.sortEnabled},theme:"my-theme"},on:{"on-row-click":e.onRowClick},scopedSlots:e._u([{key:"table-row",fn:function(t){return[t.column.action?[e._t("action",null,{item:t.row})]:e._e(),e._v(" "),t.column.extra?[e._t("extra",null,{item:t.row})]:t.column.displayText?[t.column.multiple?[t.row[t.column.displayText].length>0?e._l(t.row[t.column.displayText],(function(i,a){return n("b-badge",{key:a,staticClass:"mr-1",attrs:{variant:"primary"}},[e._v("\n                                    "+e._s(i[t.column.field])+"\n                                ")])})):[n("span",[e._v("No "+e._s(t.column.displayText))])]]:[null!=t.row[t.column.displayText]?n("span",[e._v("\n                                "+e._s(t.row[t.column.displayText][t.column.field])+"\n                            ")]):n("span",[e._v("\n                                -\n                            ")])]]:t.column.format?["formatDate"==t.column.format?n("span",[e._v("\n                            "+e._s(e._f("formatDate")(t.row[t.column.field]))+"\n                        ")]):e._e()]:[n("span",[e._v("\n                            "+e._s(t.column.relation?t.column.relation:t.row[t.column.field])+"\n                        ")])]]}},{key:"pagination-bottom",fn:function(t){return[n("div",{staticClass:"d-flex justify-content-between flex-wrap"},[n("div",{staticClass:"d-flex align-items-center mb-0 mt-1"},[n("span",{staticClass:"text-nowrap"},[e._v("\n                              Showing 1 to\n                            ")]),e._v(" "),n("b-form-select",{staticClass:"mx-1",attrs:{options:["25","50","100"]},on:{input:function(e){return t.perPageChanged({currentPerPage:e})}},model:{value:e.pageLength,callback:function(t){e.pageLength=t},expression:"pageLength"}}),e._v(" "),n("span",{staticClass:"text-nowrap"},[e._v(" of "+e._s(t.total)+" entries ")])],1),e._v(" "),n("div",{staticClass:"align-content-end mb-0 mt-1"},[n("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-1",attrs:{type:"submit",variant:"primary",disabled:null==e.model.prev_page_url},on:{click:e.prevPage}},[n("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})],1),e._v(" "),n("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-1",attrs:{type:"submit",variant:"primary",disabled:null==e.model.next_page_url},on:{click:e.nextPage}},[n("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})],1)],1)])]}}],null,!0)})],1)],1)],1)}),[],!1,null,"404467bc",null);t.a=_.exports},uvMX:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("hbd/"),a=n("f9f4"),s=n("1w2d"),o={data:function(){return{form:{},error:{},isProcessing:!1,show:!1}},computed:{mode:function(){return this.$route.meta.mode},isEdit:function(){return"edit"===this.mode}},methods:{errors:function(e){return this.error[e]?"error-bg":""},success:function(){this.$toast({component:s.a,props:{title:"Success",icon:"BellIcon",text:this.message,variant:"success"}})},deleted:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.message;this.$toast({component:s.a,props:{title:"Deleted",icon:"BellIcon",text:e,variant:"danger"}})},clearErrors:function(){this.error={}},handleError:function(e){422===e.response.status&&(this.error=e.response.data.errors)},destroy:function(e,t,n){this.clearErrors(),Object(i.a)("DELETE",e,n).then((function(e){var n=e.data;n.saved&&t(n)})).catch(this.handleError)},submit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this.clearErrors(),"file"==e&&(this.form=Object(a.a)(this.form)),Object(i.a)(this.method,this.store,this.form).then((function(e){var n=e.data;n.saved&&t(n)})).catch(this.handleError)},submitMultipartForm:function(e,t){var n=this;this.clearErrors(),Object(i.a)(this.method,this.store,Object(a.a)(this.form)).then((function(e){var n=e.data;return!!n.saved&&(t(n),!0)})).catch((function(e){return n.handleError(e),!1}))}}}},wWPa:function(e,t,n){"use strict";var i=n("C2Uh"),a=n("hbd/"),s=n("1w2d"),o={name:"XTagInput",model:{prop:"value",event:"input"},props:{resource:String,column:String,tabindex:{default:0},positionRelative:{type:Boolean,default:!1},value:[Object,Array],disabled:{default:!1,type:Boolean},multiple:{default:!1,type:Boolean},removable:{default:!1,type:Boolean},name:{default:"value"},keyIndex:String,relation:{type:String,default:""},params:{type:[Object,Array],default:function(){return{}}}},data:function(){return{isLoading:!1,showDropdown:!1,selectIndex:-1,search:"",options:[]}},computed:{availableOptions:function(){return this.options}},methods:{removeVal:function(){this.$emit("input",{id:null})},remove:function(e,t){var n=this.value;n.splice(t,1),this.$emit("input",n)},onSearch:function(e){this.search=event.target.value,this.fetch(this.search)},fetch:Object(i.debounce)((function(e){var t=this;this.isLoading=!0;var n={q:e,column:this.column};Object(a.b)("".concat(this.resource),n).then((function(e){e.data&&t.$set(t.$data,"options",e.data.data),t.isLoading=!1}))}),300),onUpKey:function(e){var t=this;this.disabled||(this.selectIndex>0?(this.selectIndex--,this.selectIndex>4&&this.$nextTick((function(){t.$refs.items.scrollTop-=28}))):(this.selectIndex=this.options.length-1,this.$nextTick((function(){t.$refs.items.scrollTop=28*t.selectIndex}))))},onDownKey:function(e){var t=this;this.disabled||(this.showDropdown||this.open(),this.options.length-1>this.selectIndex?(this.selectIndex++,this.selectIndex>4&&this.$nextTick((function(){t.$refs.items.scrollTop+=28}))):(this.selectIndex=0,this.$nextTick((function(){t.$refs.items.scrollTop=0}))))},onKeydownMain:function(e){this.open()},select:function(e){if(this.multiple){var t=this.value;if(0===this.value.length){var n={};""==this.relation?t.push(e):(n["".concat(this.keyIndex)]=e.id,n["".concat(this.relation)]=e,t.push(n)),this.$emit("input",t)}else{for(var i=!1,a=0;a<t.length;a++)e.id===t[a][this.keyIndex]&&(this.$toast({component:s.a,props:{title:"Alert",icon:"BellIcon",text:"Option already selected above",variant:"danger"}}),i=!0);if(i)return;var o={};""==this.relation?t.push(e):(o["".concat(this.keyIndex)]=e.id,o["".concat(this.relation)]=e,t.push(o)),this.$emit("input",t)}}else this.$emit("input",e);this.close()},onEnter:function(){if(!(this.disabled||this.selectIndex<0)){var e=this.options[this.selectIndex];this.select(e)}},onBlur:function(){this.close()},onMouse:function(e){this.selectIndex=e},close:function(){this.showDropdown=!1,this.selectIndex=-1,this.search="",this.options=[]},open:function(){var e=this;this.showDropdown=!0,this.$nextTick((function(){e.$refs.search.focus(),e.options.length||e.fetch()}))},toggle:function(){this.disabled||(this.showDropdown?this.close():this.open())}}},r=n("KHd+"),l=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select-form"},[n("div",{ref:"toggle",staticClass:"select-input",attrs:{tabindex:e.disabled?-1:e.tabindex,disabled:e.disabled},on:{click:e.toggle,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.onKeydownMain.apply(null,arguments))}}},[e.multiple?n("div",{staticClass:"select-text"},[e.value&&e.value.length?n("div",{staticClass:"select-tags mb-1"},e._l(e.value,(function(t,i){return n("div",{staticClass:"tag tag-primary"},[n("span",{staticClass:"tag-text"},[e._v("\n                      "+e._s(""===e.relation?t[e.name]:t[e.relation][e.name])+"\n                    ")]),e._v(" "),n("feather-icon",{attrs:{icon:"XIcon",size:"12"},on:{mousedown:function(n){return n.preventDefault(),e.remove(t,i)}}})],1)})),0):e._e()]):n("div",{staticClass:"select-text"},[e._v("\n            "+e._s(e.value&&e.value[e.name]?e.value[e.name]:"Select")+"\n        ")]),e._v(" "),e.removable&&e.value&&e.value.id?n("span",{staticClass:"select-remove icon icon-trash-a",on:{click:e.removeVal}}):n("span",{class:["select-icon icon icon-arrow-"+(e.showDropdown?"up-b":"down-b")]})]),e._v(" "),e.showDropdown?n("div",{staticClass:"select-dropdown",style:!0===e.positionRelative?"position:relative":""},[n("div",{staticClass:"select-inner"},[n("div",{staticClass:"select-search-wrap"},[n("input",{ref:"search",staticClass:"select-search",attrs:{type:"text",placeholder:"Search..."},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.onDownKey.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.onUpKey.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onBlur.apply(null,arguments)}],input:e.onSearch,blur:e.onBlur}})]),e._v(" "),n("div",{ref:"items",staticClass:"select-items"},e._l(e.availableOptions,(function(t,i){return n("div",{class:["select-item",e.selectIndex===i?"select-active":""],on:{mouseover:function(t){return t.preventDefault(),e.onMouse(i)},mousedown:function(n){return n.preventDefault(),e.select(t)}}},[n("span",[e._v(e._s(t[e.name]))])])})),0)])]):e._e()])}),[],!1,null,null,null);t.a=l.exports}}]);